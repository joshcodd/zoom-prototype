(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c.n(s),a=c(20),i=c.n(a),o=c(6),r=(c(27),c(12)),l=(c(28),c(9)),d=(c(18),c(29),c(10)),j=c(11),u=c(1);var b=function(e){var t,c="questions",s=e.message,n=e.db,a=s.createdAt;if(null!==a){var i=(a=a.toDate()).getHours()>9?"":"0",o=a.getMinutes()>9?"":"0";t="".concat(i).concat(a.getHours(),":").concat(o).concat(a.getMinutes()," ").concat(a.toDateString())}return Object(u.jsxs)("li",{className:"questionMessage message",children:[Object(u.jsx)("div",{children:s.name}),Object(u.jsx)("div",{children:t}),Object(u.jsx)("div",{className:"text questionContent",children:s.text}),Object(u.jsxs)("div",{className:"arrows",children:[Object(u.jsx)("button",{className:"up arrowButton",onClick:function(){return e=s.id,void(n&&n.collection(c).doc(e).update({votes:l.a.firestore.FieldValue.increment(1)}));var e},id:s.id,children:Object(u.jsx)("i",{children:Object(u.jsx)(d.a,{icon:j.b,className:"arrowIcon",color:"#25D959"})})}),Object(u.jsx)("button",{className:"up arrowButton",onClick:function(){return e=s.id,void(n&&n.collection(c).doc(e).update({votes:l.a.firestore.FieldValue.increment(-1)}));var e},id:s.id,children:Object(u.jsx)("i",{children:Object(u.jsx)(d.a,{icon:j.a,className:"arrowIcon",color:"#25D959"})})}),Object(u.jsx)("div",{className:"votes",children:s.votes})]})]},s.id)};c(35);var m=function(e){var t,c=e.message,s=c.createdAt;if(null!==s){var n=(s=s.toDate()).getHours()>9?"":"0",a=s.getMinutes()>9?"":"0";t="".concat(n).concat(s.getHours(),":").concat(a).concat(s.getMinutes()," ").concat(s.toDateString())}return Object(u.jsxs)("li",{className:"generalmessage message",children:[Object(u.jsx)("div",{children:c.name}),Object(u.jsxs)("div",{children:[" ",t]}),Object(u.jsx)("div",{className:"text generalText",children:c.text})]},c.id)};var O=function(e){var t=e.db,c=Object(s.useState)(""),n=Object(o.a)(c,2),a=n[0],i=n[1],d=Object(s.useState)([]),j=Object(o.a)(d,2),O=j[0],h=j[1],v=Object(s.useState)(e.startingChat),x=Object(o.a)(v,2),p=x[0],f=x[1],g=Object(s.useState)(e.name),N=Object(o.a)(g,2),y=N[0],C=N[1],S="questions",A="general",w="#e2e2e2",B="#222222";function k(e){var t=document.getElementById(e).style;t.backgroundColor=B,t.color=w}function T(e){p!==e&&p&&(k(p),f(e))}return Object(s.useEffect)((function(){!function(e){var t=document.getElementById(e).style;t.backgroundColor=w,t.color=B}(e.hideChat?S:p)}),[p,e.hideChat]),Object(s.useEffect)((function(){e.hideChat||k(A),f(S)}),[e.hideChat]),Object(s.useEffect)((function(){if(t)return p===S?t.collection(S).orderBy("createdAt").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(r.a)(Object(r.a)({},e.data()),{},{id:e.id})}));h(t)})):t.collection(A).orderBy("createdAt").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(r.a)(Object(r.a)({},e.data()),{},{id:e.id})}));h(t)}))}),[t,p]),Object(s.useEffect)((function(){setTimeout((function(){var e=document.getElementById("messages");e.scrollTop=e.scrollHeight}),300)}),[O]),Object(u.jsxs)("div",{className:"chat",children:[e.hideChat?Object(u.jsx)("div",{className:"splitButton",children:Object(u.jsx)("button",{id:"questions",className:"singleButton buttons",children:"Questions"})}):Object(u.jsxs)("div",{className:"splitButton",children:[Object(u.jsx)("button",{className:"leftButton buttons",id:"general",onClick:function(){return T(A)},children:"General"}),Object(u.jsx)("button",{className:"rightButton buttons",id:"questions",onClick:function(){return T(S)},children:"Questions"})]}),Object(u.jsx)("div",{className:"messages",id:"messages",children:Object(u.jsx)("ul",{className:"message-list",children:O.map((function(e){return p===S?Object(u.jsx)(b,{message:e,db:t}):Object(u.jsx)(m,{message:e})}))})}),Object(u.jsxs)("div",{className:"inputArea",children:[Object(u.jsx)("textarea",{onChange:function(e){var t=e.target.value;i(t)},placeholder:"Type your message here...",className:"input",name:"inputArea",rows:"2",value:a}),Object(u.jsxs)("div",{className:"inputdialog",children:[Object(u.jsx)("button",{className:"sendButton",onClick:function(){t&&(p===S?t.collection(S).add({createdAt:l.a.firestore.FieldValue.serverTimestamp(),text:a,votes:0,name:y,read:!1}):t.collection(A).add({createdAt:l.a.firestore.FieldValue.serverTimestamp(),text:a,name:y})),i("")},children:"Send"}),"questions"===p&&Object(u.jsxs)("div",{className:"isAnonymous",children:[Object(u.jsx)("input",{className:"checkbox",type:"checkbox",id:"anonymous",value:y,onClick:function(t){var c;c=t.target.value===e.name?"Anonymous":e.name,C(c)}}),Object(u.jsx)("label",{children:"Post anonymously?"})]})]})]})]})};c(36);var h=function(e){var t=Object(s.useState)(!1),c=Object(o.a)(t,2),n=c[0],a=c[1],i=e.view,r=e.dictateAt;return Object(u.jsxs)("div",{className:"toolbar",children:[Object(u.jsx)("img",{src:"/zoom-prototype/mute.png",className:"icon left",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"/zoom-prototype/video.png",className:"icon left",alt:"Alternative Text"}),"student"===i&&Object(u.jsx)("div",{className:"menuDialog centre",style:{visibility:n?"visible":"hidden"},children:Object(u.jsx)("div",{className:"settings",children:Object(u.jsxs)("button",{className:"chatStateButton",onClick:function(){e.setHideChat(!e.hideChat)},children:["Turn chat ",e.hideChat?"on":"off","."]})})}),"host"===i&&Object(u.jsx)("div",{className:"hostMenuDialog centre",style:{visibility:n?"visible":"hidden"},children:Object(u.jsxs)("div",{className:"hostSettings",children:[Object(u.jsx)("label",{className:"dictateLabel",children:"Dictate question at:"}),Object(u.jsx)("input",{type:"range",className:"slider",onChange:function(t){e.setDictateAt(t.target.value)},min:"0",max:"100",value:r}),Object(u.jsxs)("label",{className:"votesLabel",children:[r," votes"]})]})}),Object(u.jsx)("button",{className:"leaveButton",onClick:function(){e.setHome(!0)},children:"Leave"}),Object(u.jsxs)("div",{className:"centre",children:[Object(u.jsx)("img",{src:"/zoom-prototype/participants.png",className:"icon",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"/zoom-prototype/chat.png",className:"icon",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"/zoom-prototype/screenshot.png",className:"icon",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"/zoom-prototype/record.png",className:"icon",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"/zoom-prototype/reactions.png",className:"icon",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"/zoom-prototype/more.png",className:"icon",alt:"Alternative Text",onClick:function(){a(!n)}})]})]})};c(37);var v=function(){return Object(u.jsx)("div",{className:"screenContainer",children:Object(u.jsx)("img",{src:"/zoom-prototype/screen-light.png",className:"screen",alt:"Alternative Text"})})},x=(c(38),c(22));var p=function(e){var t=new Date,c=e.db,n=Object(s.useState)([]),a=Object(o.a)(n,2),i=a[0],l=a[1],b=Object(s.useState)(t.getTime()/1e3),m=Object(o.a)(b,2),O=m[0],h=m[1],v=Object(x.useSpeechSynthesis)().speak,p=e.view,f=e.dictateAt,g="questions";return Object(s.useEffect)((function(){if(c)return c.collection(g).orderBy("votes").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(r.a)(Object(r.a)({},e.data()),{},{id:e.id})})),c=t.slice(t.length-3).reverse();l(c)}))}),[c]),Object(s.useEffect)((function(){for(var e=0;e<Math.min(3,i.length);e++){var s=i[e],n=t.getTime()/1e3-O;if(s.votes>f&&n>9&&!1===s.read){v({text:s.text}),h(t.getTime()/1e3),c&&c.collection(g).doc(s.id).update({read:!0});break}}}),[c,f,O,v,i]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"title",children:"Top Questions:"}),i.map((function(e,t){return e.votes>0?Object(u.jsxs)("div",{className:"question",children:[Object(u.jsxs)("div",{className:"questionText",children:[t+1,". ",e.text]}),Object(u.jsxs)("div",{className:"rightContainer",children:[e.votes," votes","host"===p&&Object(u.jsxs)("div",{className:"hostControls",children:[Object(u.jsx)("button",{onClick:function(){return v({text:e.text})},className:"hostButton",children:Object(u.jsx)("i",{children:Object(u.jsx)(d.a,{icon:j.f,color:"#25D959"})})}),Object(u.jsx)("button",{onClick:function(){return t=e.id,void(c&&c.collection(g).doc(t).delete());var t},className:"hostButton",children:Object(u.jsx)("i",{children:Object(u.jsx)(d.a,{icon:j.e,color:"#B32323"})})})]})]})]}):null}))]})};c(41);var f=function(e){var t=e.name,c=e.view;return Object(u.jsxs)("div",{className:"gallerycontainer",children:[Object(u.jsx)("div",{className:"arrow",children:Object(u.jsx)(d.a,{icon:j.c})}),Object(u.jsxs)("div",{className:"user",children:[" ","host"===c?t:"Host"]}),Object(u.jsxs)("div",{className:"user",children:[" ","host"===c?"Student":t]}),Object(u.jsx)("div",{className:"user",children:"Student"}),Object(u.jsx)("div",{className:"user",children:"Student"}),Object(u.jsx)("div",{className:"user",children:"Student"}),Object(u.jsx)("div",{className:"arrow bottomArrow",children:Object(u.jsx)(d.a,{icon:j.d})})]})};l.a.initializeApp({apiKey:"AIzaSyB_dcSrtNM1SoOdbpGK4gyDtfIJs8NQ1Mo",authDomain:"zoom-prototype-3c7b3.firebaseapp.com",projectId:"zoom-prototype-3c7b3",storageBucket:"zoom-prototype-3c7b3.appspot.com",messagingSenderId:"829189795036",appId:"1:829189795036:web:6ed5d9bd93c293a9ab9819"});var g=l.a.firestore();var N=function(e){var t=Object(s.useState)(!1),c=Object(o.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(10),r=Object(o.a)(i,2),l=r[0],d=r[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(v,{}),Object(u.jsx)(f,{name:e.name,view:e.view}),Object(u.jsx)(O,{db:g,startingChat:"questions",name:e.name,hideChat:n}),Object(u.jsx)(p,{db:g,view:e.view,dictateAt:l}),Object(u.jsx)(h,{hideChat:n,setHideChat:a,setHome:e.setHome,view:e.view,dictateAt:l,setDictateAt:d})]})};c(42);var y=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(!0),i=Object(o.a)(a,2),r=i[0],l=i[1],d=Object(s.useState)(""),j=Object(o.a)(d,2),b=j[0],m=j[1];function O(e){m(e.target.id),l(!1)}return Object(u.jsxs)("div",{className:"App",children:[r&&Object(u.jsxs)("div",{className:"centreContainer",children:[Object(u.jsx)("label",{className:"label",children:"Display name: "}),Object(u.jsx)("input",{className:"displayName",type:"text",id:"displayName",value:c,onChange:function(e){n(e.target.value)}}),Object(u.jsx)("label",{className:"label",children:"View as a: "}),Object(u.jsx)("button",{className:"homeButton",id:"student",onClick:O,children:"Student"}),Object(u.jsx)("button",{className:"homeButton",id:"host",onClick:O,children:"Host"})]}),!r&&Object(u.jsx)(N,{name:c,view:b,setHome:l})]})};var C=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(y,{})})};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.c8397640.chunk.js.map