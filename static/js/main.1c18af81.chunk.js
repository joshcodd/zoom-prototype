(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var s=c(2),a=c.n(s),n=c(20),i=c.n(n),o=c(6),l=(c(27),c(10)),r=(c(28),c(9)),d=(c(18),c(29),c(13)),j=c(14),u=c(1);var b=function(e){var t,c=e.message,s=e.db,a=c.createdAt;if(null!==a){var n=(a=a.toDate()).getHours()>9?"":"0",i=a.getMinutes()>9?"":"0";t="".concat(n).concat(a.getHours(),":").concat(i).concat(a.getMinutes()," ").concat(a.toDateString())}return Object(u.jsxs)("li",{className:"message",children:[Object(u.jsx)("div",{children:c.name}),Object(u.jsx)("div",{children:t}),Object(u.jsx)("div",{className:"text",children:c.text}),Object(u.jsxs)("div",{className:"arrows",children:[Object(u.jsx)("button",{className:"up button",onClick:function(){return e=c.id,void(s&&s.collection("message").doc(e).update({votes:r.a.firestore.FieldValue.increment(1)}));var e},id:c.id,children:Object(u.jsx)("i",{children:Object(u.jsx)(d.a,{icon:j.b,className:"arrowIcon",color:"#25D959"})})}),Object(u.jsx)("button",{className:"up button",onClick:function(){return e=c.id,void(s&&s.collection("message").doc(e).update({votes:r.a.firestore.FieldValue.increment(-1)}));var e},id:c.id,children:Object(u.jsx)("i",{children:Object(u.jsx)(d.a,{icon:j.a,className:"arrowIcon",color:"#25D959"})})}),Object(u.jsx)("div",{className:"votes",children:c.votes})]})]},c.id)};c(35);var m=function(e){var t,c=e.message,s=c.createdAt;if(null!==s){var a=(s=s.toDate()).getHours()>9?"":"0",n=s.getMinutes()>9?"":"0";t="".concat(a).concat(s.getHours(),":").concat(n).concat(s.getMinutes()," ").concat(s.toDateString())}return Object(u.jsxs)("li",{className:"generalmessage",children:[Object(u.jsx)("div",{children:c.name}),Object(u.jsxs)("div",{children:[" ",t]}),Object(u.jsx)("div",{className:"text",children:c.text})]},c.id)};var h=function(e){var t=e.db,c=Object(s.useState)(""),a=Object(o.a)(c,2),n=a[0],i=a[1],d=Object(s.useState)([]),j=Object(o.a)(d,2),h=j[0],O=j[1],v=Object(s.useState)(e.startingChat),x=Object(o.a)(v,2),g=x[0],f=x[1],p=Object(s.useState)(e.name),N=Object(o.a)(p,2),C=N[0],y=N[1];function A(e){var t=document.getElementById(e).style;t.backgroundColor="#161616",t.color="white"}function S(e){A(g),f(e)}return Object(s.useEffect)((function(){!function(e){var t=document.getElementById(e).style;t.backgroundColor="white",t.color="black"}(e.hideChat?"questions":g)}),[g,e.hideChat]),Object(s.useEffect)((function(){e.hideChat||A("general"),f("questions")}),[e.hideChat]),Object(s.useEffect)((function(){if(t)return"questions"===g?t.collection("message").orderBy("createdAt").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})}));O(t)})):t.collection("general").orderBy("createdAt").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})}));O(t)}))}),[t,g]),Object(u.jsxs)("div",{className:"chat",children:[e.hideChat?Object(u.jsx)("div",{className:"splitButton",children:Object(u.jsx)("button",{id:"questions",className:"singleButton",children:"Questions"})}):Object(u.jsxs)("div",{className:"splitButton",children:[Object(u.jsx)("button",{className:"leftButton",id:"general",onClick:function(){return S("general")},children:"General"}),Object(u.jsx)("button",{className:"rightButton",id:"questions",onClick:function(){return S("questions")},children:"Questions"})]}),Object(u.jsx)("div",{className:"messages",children:Object(u.jsx)("ul",{className:"message-list",children:h.map((function(e){return"questions"===g?Object(u.jsx)(b,{message:e,db:t}):Object(u.jsx)(m,{message:e})}))})}),Object(u.jsxs)("div",{className:"inputArea",children:[Object(u.jsx)("textarea",{onChange:function(e){var t=e.target.value;i(t)},placeholder:"Type your message here...",className:"input",name:"inputArea",cols:"48",rows:"2",value:n}),Object(u.jsxs)("div",{className:"inputdialog",children:[Object(u.jsx)("button",{className:"sendButton",onClick:function(){t&&("questions"===g?t.collection("message").add({createdAt:r.a.firestore.FieldValue.serverTimestamp(),text:n,votes:0,name:C,read:!1}):t.collection("general").add({createdAt:r.a.firestore.FieldValue.serverTimestamp(),text:n,name:C})),i("")},children:"Send"}),"questions"===g&&Object(u.jsxs)("div",{className:"isAnonymous",children:[Object(u.jsx)("input",{className:"checkbox",type:"checkbox",id:"anonymous",value:C,onClick:function(t){var c;c=t.target.value===e.name?"Anonymous":e.name,y(c)}}),Object(u.jsx)("label",{children:"Post anonymously?"})]})]})]})]})};c(36);var O=function(e){var t=Object(s.useState)(!1),c=Object(o.a)(t,2),a=c[0],n=c[1],i=e.view,l=e.dictateAt;return Object(u.jsxs)("div",{className:"toolbar",children:[Object(u.jsx)("img",{src:"mute.png",className:"icon left",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"video.png",className:"icon left",alt:"Alternative Text"}),"student"===i&&Object(u.jsx)("div",{className:"menuDialog centre",style:{visibility:a?"visible":"hidden"},children:Object(u.jsx)("div",{className:"settings",children:Object(u.jsxs)("button",{className:"chatStateButton",onClick:function(){e.setHideChat(!e.hideChat)},children:["Turn chat ",e.hideChat?"on":"off","."]})})}),"host"===i&&Object(u.jsx)("div",{className:"hostMenuDialog centre",style:{visibility:a?"visible":"hidden"},children:Object(u.jsxs)("div",{className:"hostSettings",children:[Object(u.jsx)("label",{className:"dictateLabel",children:"Dictate question at:"}),Object(u.jsx)("input",{type:"range",className:"slider",onChange:function(t){e.setDictateAt(t.target.value)},min:"0",max:"100",value:l}),Object(u.jsxs)("label",{className:"votesLabel",children:[l," votes"]})]})}),Object(u.jsx)("button",{className:"leaveButton",onClick:function(){e.setHome(!0)},children:"Leave"}),Object(u.jsxs)("div",{className:"centre",children:[Object(u.jsx)("img",{src:"participants.png",className:"icon",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"chat.png",className:"icon",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"screenshot.png",className:"icon",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"record.png",className:"icon",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"reactions.png",className:"icon",alt:"Alternative Text"}),Object(u.jsx)("img",{src:"more.png",className:"icon",alt:"Alternative Text",onClick:function(){n(!a)}})]})]})};c(37);var v=function(){return Object(u.jsx)("div",{className:"window",children:Object(u.jsx)("img",{src:"screen.png",className:"screen",alt:"Alternative Text"})})},x=(c(38),c(22));var g=function(e){var t=new Date,c=e.db,a=Object(s.useState)([]),n=Object(o.a)(a,2),i=n[0],r=n[1],b=Object(s.useState)(t.getTime()/1e3),m=Object(o.a)(b,2),h=m[0],O=m[1],v=Object(x.useSpeechSynthesis)().speak,g=e.view,f=e.dictateAt;return Object(s.useEffect)((function(){if(c)return c.collection("message").orderBy("votes").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})),c=t.slice(t.length-3).reverse();r(c)}))}),[c]),Object(s.useEffect)((function(){for(var e=0;e<Math.min(3,i.length);e++){var s=i[e],a=t.getTime()/1e3-h;if(s.votes>f&&a>10&&!1===s.read){v({text:s.text}),O(t.getTime()/1e3),c&&c.collection("message").doc(s.id).update({read:!0});break}}}),[c,f,h,v,i]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"title",children:"Top Questions:"}),i.map((function(e,t){return e.votes>0?Object(u.jsxs)("div",{className:"question",children:[t+1,". ",e.text,"host"===g&&Object(u.jsxs)("div",{className:"hostControls",children:[Object(u.jsx)("button",{onClick:function(){return v({text:e.text})},className:"hostButton",children:Object(u.jsx)("i",{children:Object(u.jsx)(d.a,{icon:j.d,className:"hostIcon",color:"#25D959"})})}),Object(u.jsx)("button",{onClick:function(){return t=e.id,void(c&&c.collection("message").doc(t).delete());var t},className:"hostButton",children:Object(u.jsx)("i",{children:Object(u.jsx)(d.a,{icon:j.c,className:"hostIcon",color:"#B32323"})})})]}),Object(u.jsxs)("span",{className:"votecount",children:[e.votes," votes"]})]}):null}))]})};r.a.initializeApp({apiKey:"AIzaSyB_dcSrtNM1SoOdbpGK4gyDtfIJs8NQ1Mo",authDomain:"zoom-prototype-3c7b3.firebaseapp.com",projectId:"zoom-prototype-3c7b3",storageBucket:"zoom-prototype-3c7b3.appspot.com",messagingSenderId:"829189795036",appId:"1:829189795036:web:6ed5d9bd93c293a9ab9819"});var f=r.a.firestore();var p=function(e){var t=Object(s.useState)(!1),c=Object(o.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(10),l=Object(o.a)(i,2),r=l[0],d=l[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(v,{}),Object(u.jsx)(h,{db:f,startingChat:"questions",name:e.name,hideChat:a}),Object(u.jsx)(g,{db:f,view:e.view,dictateAt:r}),Object(u.jsx)(O,{hideChat:a,setHideChat:n,setHome:e.setHome,view:e.view,dictateAt:r,setDictateAt:d})]})};c(41);var N=function(e){var t=Object(s.useState)(""),c=Object(o.a)(t,2),a=c[0],n=c[1],i=Object(s.useState)(!0),l=Object(o.a)(i,2),r=l[0],d=l[1],j=Object(s.useState)(""),b=Object(o.a)(j,2),m=b[0],h=b[1];function O(e){h(e.target.id),d(!1)}return Object(u.jsxs)("div",{className:"App",children:[r&&Object(u.jsxs)("div",{className:"centreContainer",children:[Object(u.jsx)("label",{className:"label",children:"Display name: "}),Object(u.jsx)("input",{className:"displayName",type:"text",id:"displayName",value:a,onChange:function(e){n(e.target.value)}}),Object(u.jsx)("label",{className:"label",children:"View as a: "}),Object(u.jsx)("button",{className:"homeButton",id:"student",onClick:O,children:"Student"}),Object(u.jsx)("button",{className:"homeButton",id:"host",onClick:O,children:"Host"})]}),!r&&Object(u.jsx)(p,{name:a,view:m,setHome:d})]})};var C=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(N,{})})};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.1c18af81.chunk.js.map